(()=>{var m={error:"\x1B[36m%s\x1B[0m",success:"\x1B[36m%s\x1B[0m",anchor:"plinth",server:"ws://127.0.0.1:9944",version:"1.0.2",step:300},v=LP,x=v.ApiPromise,L=v.WsProvider,p=LA,N=LE.easyRun,y=null,n={auto:o=>{if(y!==null)return o&&o();n.step(`Ready to link to server ${h}.`,()=>{x.create({provider:new L(h)}).then(e=>{n.step(`Linker to node [${h}] created.`,()=>(y=e,p.set(e),o&&o()))})})},decoder:o=>{let e={anchor:m.anchor,server:m.server};if(!o)return e;let t=o.split("@");if(t.length===1)return e.anchor=t[0].substring(1),e;{e.server=t.pop();let r=t.join("@");return e.anchor=r.substring(1),e}},html:(o,e)=>{let t=document.getElementById(e),r=document.createTextNode(o);t.innerHTML="",t.appendChild(r)},version:(o,e)=>{let t=document.getElementsByClassName(e);for(let r=0;r<t.length;r++){let s=t[r],d=document.createTextNode(o);s.innerHTML="",s.appendChild(d)}},hide:o=>{if(Array.isArray(o))for(let e=0;e<o.length;e++){let t=document.getElementById(o[e]);t.style.display="none"}else{let e=document.getElementById(o);e.style.display="none"}},step:(o,e,t)=>{let r="step",s=document.getElementById(r),d=document.createTextNode(`[${n.stamp()}] ${o}`),c=document.createElement("br");s.appendChild(d),s.appendChild(c),setTimeout(e,t||m.step)},stamp:()=>new Date().toLocaleString(),groupResource:o=>{let e={},t={},r={};for(let c=0;c<o.length;c++){let a=o[c];if(a.raw!==null)try{let i=JSON.parse(a.raw);for(var s in i){e[s]=i[s];let l=s.split("_");l.length===2?(t[l[0]]||(t[l[0]]=[]),t[l[0]].push(parseInt(l[1])),r[l[0]]=a.name):t[s]=a.name}}catch(i){console.log(i)}}let d={};for(let c in t)if(!Array.isArray(t[c]))d[`${t[c]}|${c}`]=e[c];else{let a="";for(let i=0;i<t[c].length;i++)a+=e[`${c}_${i}`];d[`${r[c]}|${c}`]=a}return d}},f=n.decoder(location.hash),P=`anchor://${f.anchor}/`,h=f.server;n.version(m.version,"ver");n.step(`Info: Anchor Network server ${h}`,()=>{n.step(`Info: ready to load ${f.anchor}`,()=>{n.auto(()=>{let o={common:{latest:p.latest,target:p.target,history:p.history,owner:p.owner,subcribe:p.subcribe,multi:p.multi,block:p.block}};n.step("Info: anchor decoded, ready to load.",()=>{N(P,o,e=>{if(e.error&&e.error.length!==0){let t="";for(let r=0;r<e.error.length;r++){let s=e.error[r];t+=`${s.level?s.level+":":""}${s.error}`}return n.step(t),delete e.error,n.html(`${JSON.stringify(e)}`,"root"),!1}console.log(e),n.step("Info: Ready to show details",()=>{let t=e.location[1],r=e.location[0],s=`${r}_${t}`,d=e.data[s];n.html(`${r} on ${t.toLocaleString()}, signed by ${d.signer}`,"more"),n.step("Load successful,ready to run.",()=>{let c=e.libs&&e.libs.js?e.libs.js:"",a=e.code?e.code:"";if(e.resource&&e.raw){n.step("Combining the resouce files to application.");let l=n.groupResource(e.raw);for(var i in l)a=a.replace(`anchor://${i}`,l[i])}try{let l=new Function("API","input","errs",c+a),$={container:"root",from:null,params:{},node:f.server},b={anchorJS:p},u=3;n.step(`Application loaded, run in ${u}s.`);let w=setInterval(()=>{if(u--,n.step(`Application loaded, run in ${u}s.`),u<0){if(clearInterval(w),e.libs&&e.libs.css){let A=e.libs.css,I=document.getElementsByTagName("head")[0],g=document.createElement("style"),E=document.createTextNode(A);g.appendChild(E),I.appendChild(g)}n.hide(["step","info"]),l(b,$,[])}},1e3)}catch(l){n.step("Failed to load cApp."),n.step(`Error: ${l}`)}})})})})})})});})();
//!important, This is the loader of launcher such as `Plinth`.
//!important, Need to build, the index.html not support hight version JS
