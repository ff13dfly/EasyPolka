var x=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var X=x((xt,Q)=>{"use strict";Q.exports=je;function je(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");for(let t of e)if(typeof t!="function")throw new TypeError("Middleware must be composed of functions!");return function(t,r){let n=-1;return o(0);function o(a){if(a<=n)return Promise.reject(new Error("next() called multiple times"));n=a;let i=e[a];if(a===e.length&&(i=r),!i)return Promise.resolve();try{return Promise.resolve(i(t,o.bind(null,a+1)))}catch(s){return Promise.reject(s)}}}}});var ne=x((Tt,re)=>{var _e=require("path").relative;re.exports=Le;var Se=process.cwd();function ee(e,t){for(var r=e.split(/[ ,]+/),n=String(t).toLowerCase(),o=0;o<r.length;o++){var a=r[o];if(a&&(a==="*"||a.toLowerCase()===n))return!0}return!1}function Me(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t),o=n.value;return n.get=function(){return o},n.writable&&(n.set=function(i){return o=i}),delete n.value,delete n.writable,Object.defineProperty(e,t,n),n}function qe(e){for(var t="",r=0;r<e;r++)t+=", arg"+r;return t.substr(2)}function Ie(e){var t=this.name+": "+this.namespace;this.message&&(t+=" deprecated "+this.message);for(var r=0;r<e.length;r++)t+=`
    at `+e[r].toString();return t}function Le(e){if(!e)throw new TypeError("argument namespace is required");var t=I(),r=N(t[1]),n=r[0];function o(a){q.call(o,a)}return o._file=n,o._ignored=He(e),o._namespace=e,o._traced=Fe(e),o._warned=Object.create(null),o.function=Be,o.property=Ge,o}function De(e,t){var r=typeof e.listenerCount!="function"?e.listeners(t).length:e.listenerCount(t);return r>0}function He(e){if(process.noDeprecation)return!0;var t=process.env.NO_DEPRECATION||"";return ee(t,e)}function Fe(e){if(process.traceDeprecation)return!0;var t=process.env.TRACE_DEPRECATION||"";return ee(t,e)}function q(e,t){var r=De(process,"deprecation");if(!(!r&&this._ignored)){var n,o,a,i,s=0,c=!1,u=I(),f=this._file;for(t?(i=t,a=N(u[1]),a.name=i.name,f=a[0]):(s=2,i=N(u[s]),a=i);s<u.length;s++)if(n=N(u[s]),o=n[0],o===f)c=!0;else if(o===this._file)f=this._file;else if(c)break;var p=n?i.join(":")+"__"+n.join(":"):void 0;if(!(p!==void 0&&p in this._warned)){this._warned[p]=!0;var l=e;if(l||(l=a===i||!a.name?Z(i):Z(a)),r){var h=te(this._namespace,l,u.slice(s));process.emit("deprecation",h);return}var b=process.stderr.isTTY?ke:Ue,E=b.call(this,l,n,u.slice(s));process.stderr.write(E+`
`,"utf8")}}}function N(e){var t=e.getFileName()||"<anonymous>",r=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(t=e.getEvalOrigin()+", "+t);var o=[t,r,n];return o.callSite=e,o.name=e.getFunctionName(),o}function Z(e){var t=e.callSite,r=e.name;r||(r="<anonymous@"+F(e)+">");var n=t.getThis(),o=n&&t.getTypeName();return o==="Object"&&(o=void 0),o==="Function"&&(o=n.name||o),o&&t.getMethodName()?o+"."+r:r}function Ue(e,t,r){var n=new Date().toUTCString(),o=n+" "+this._namespace+" deprecated "+e;if(this._traced){for(var a=0;a<r.length;a++)o+=`
    at `+r[a].toString();return o}return t&&(o+=" at "+F(t)),o}function ke(e,t,r){var n="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+e+"\x1B[39m";if(this._traced){for(var o=0;o<r.length;o++)n+=`
    \x1B[36mat `+r[o].toString()+"\x1B[39m";return n}return t&&(n+=" \x1B[36m"+F(t)+"\x1B[39m"),n}function F(e){return _e(Se,e[0])+":"+e[1]+":"+e[2]}function I(){var e=Error.stackTraceLimit,t={},r=Error.prepareStackTrace;Error.prepareStackTrace=$e,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t);var n=t.stack.slice(1);return Error.prepareStackTrace=r,Error.stackTraceLimit=e,n}function $e(e,t){return t}function Be(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");var r=qe(e.length),n=I(),o=N(n[1]);o.name=e.name;var a=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+r+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(e,q,this,t,o);return a}function Ge(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var o=this,a=I(),i=N(a[1]);i.name=t,"value"in n&&(n=Me(e,t,r));var s=n.get,c=n.set;typeof s=="function"&&(n.get=function(){return q.call(o,r,i),s.apply(this,arguments)}),typeof c=="function"&&(n.set=function(){return q.call(o,r,i),c.apply(this,arguments)}),Object.defineProperty(e,t,n)}function te(e,t,r){var n=new Error,o;return Object.defineProperty(n,"constructor",{value:te}),Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(n,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(n,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,get:function(){return o!==void 0?o:o=Ie.call(this,r)},set:function(i){o=i}}),n}});var ae=x((Pt,oe)=>{"use strict";oe.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?We:Ye);function We(e,t){return e.__proto__=t,e}function Ye(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e}});var ie=x((At,ze)=>{ze.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var ue=x((Ot,ce)=>{"use strict";var U=ie();ce.exports=T;T.message=U;T.code=Ke(U);T.codes=Ve(U);T.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};T.empty={204:!0,205:!0,304:!0};T.retry={502:!0,503:!0,504:!0};function Ke(e){var t={};return Object.keys(e).forEach(function(n){var o=e[n],a=Number(n);t[o.toLowerCase()]=a}),t}function Ve(e){return Object.keys(e).map(function(r){return Number(r)})}function Je(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(T.code,t))throw new Error('invalid status message: "'+e+'"');return T.code[t]}function se(e){if(!Object.prototype.hasOwnProperty.call(T.message,e))throw new Error("invalid status code: "+e);return T.message[e]}function T(e){if(typeof e=="number")return se(e);if(typeof e!="string")throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?Je(e):se(t)}});var fe=x((Ct,k)=>{typeof Object.create=="function"?k.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:k.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var pe=x((Rt,B)=>{try{if($=require("util"),typeof $.inherits!="function")throw"";B.exports=$.inherits}catch{B.exports=fe()}var $});var he=x((Nt,le)=>{"use strict";le.exports=Qe;function Qe(e){return e.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}});var ve=x((jt,C)=>{"use strict";var Xe=ne()("http-errors"),me=ae(),j=ue(),G=pe(),Ze=he();C.exports=L;C.exports.HttpError=et();C.exports.isHttpError=rt(C.exports.HttpError);ot(C.exports,j.codes,C.exports.HttpError);function de(e){return+(String(e).charAt(0)+"00")}function L(){for(var e,t,r=500,n={},o=0;o<arguments.length;o++){var a=arguments[o],i=typeof a;if(i==="object"&&a instanceof Error)e=a,r=e.status||e.statusCode||r;else if(i==="number"&&o===0)r=a;else if(i==="string")t=a;else if(i==="object")n=a;else throw new TypeError("argument #"+(o+1)+" unsupported type "+i)}typeof r=="number"&&(r<400||r>=600)&&Xe("non-error status code; use only 4xx or 5xx status codes"),(typeof r!="number"||!j.message[r]&&(r<400||r>=600))&&(r=500);var s=L[r]||L[de(r)];e||(e=s?new s(t):new Error(t||j.message[r]),Error.captureStackTrace(e,L)),(!s||!(e instanceof s)||e.status!==r)&&(e.expose=r<500,e.status=e.statusCode=r);for(var c in n)c!=="status"&&c!=="statusCode"&&(e[c]=n[c]);return e}function et(){function e(){throw new TypeError("cannot construct abstract class")}return G(e,Error),e}function tt(e,t,r){var n=ye(t);function o(a){var i=a??j.message[r],s=new Error(i);return Error.captureStackTrace(s,o),me(s,o.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:i,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return G(o,e),ge(o,n),o.prototype.status=r,o.prototype.statusCode=r,o.prototype.expose=!0,o}function rt(e){return function(r){return!r||typeof r!="object"?!1:r instanceof e?!0:r instanceof Error&&typeof r.expose=="boolean"&&typeof r.statusCode=="number"&&r.status===r.statusCode}}function nt(e,t,r){var n=ye(t);function o(a){var i=a??j.message[r],s=new Error(i);return Error.captureStackTrace(s,o),me(s,o.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:i,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return G(o,e),ge(o,n),o.prototype.status=r,o.prototype.statusCode=r,o.prototype.expose=!1,o}function ge(e,t){var r=Object.getOwnPropertyDescriptor(e,"name");r&&r.configurable&&(r.value=t,Object.defineProperty(e,"name",r))}function ot(e,t,r){t.forEach(function(o){var a,i=Ze(j.message[o]);switch(de(o)){case 400:a=tt(r,i,o);break;case 500:a=nt(r,i,o);break}a&&(e[o]=a,e[i]=a)})}function ye(e){return e.substr(-5)!=="Error"?e+"Error":e}});var Ee=x((_t,we)=>{"use strict";var be=require("http");we.exports=at()||it();function at(){return be.METHODS&&be.METHODS.map(function(t){return t.toLowerCase()})}function it(){return["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"]}});var K=x(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.pathToRegexp=v.tokensToRegexp=v.regexpToFunction=v.match=v.tokensToFunction=v.compile=v.parse=void 0;function st(e){for(var t=[],r=0;r<e.length;){var n=e[r];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(n==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(n==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(n===":"){for(var o="",a=r+1;a<e.length;){var i=e.charCodeAt(a);if(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||i===95){o+=e[a++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:o}),r=a;continue}if(n==="("){var s=1,c="",a=r+1;if(e[a]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<e.length;){if(e[a]==="\\"){c+=e[a++]+e[a++];continue}if(e[a]===")"){if(s--,s===0){a++;break}}else if(e[a]==="("&&(s++,e[a+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(a));c+=e[a++]}if(s)throw new TypeError("Unbalanced pattern at ".concat(r));if(!c)throw new TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:c}),r=a;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}function W(e,t){t===void 0&&(t={});for(var r=st(e),n=t.prefixes,o=n===void 0?"./":n,a="[^".concat(_(t.delimiter||"/#?"),"]+?"),i=[],s=0,c=0,u="",f=function(w){if(c<r.length&&r[c].type===w)return r[c++].value},p=function(w){var A=f(w);if(A!==void 0)return A;var O=r[c],D=O.type,H=O.index;throw new TypeError("Unexpected ".concat(D," at ").concat(H,", expected ").concat(w))},l=function(){for(var w="",A;A=f("CHAR")||f("ESCAPED_CHAR");)w+=A;return w};c<r.length;){var h=f("CHAR"),b=f("NAME"),E=f("PATTERN");if(b||E){var g=h||"";o.indexOf(g)===-1&&(u+=g,g=""),u&&(i.push(u),u=""),i.push({name:b||s++,prefix:g,suffix:"",pattern:E||a,modifier:f("MODIFIER")||""});continue}var y=h||f("ESCAPED_CHAR");if(y){u+=y;continue}u&&(i.push(u),u="");var S=f("OPEN");if(S){var g=l(),M=f("NAME")||"",m=f("PATTERN")||"",P=l();p("CLOSE"),i.push({name:M||(m?s++:""),pattern:M&&!m?a:m,prefix:g,suffix:P,modifier:f("MODIFIER")||""});continue}p("END")}return i}v.parse=W;function ct(e,t){return xe(W(e,t),t)}v.compile=ct;function xe(e,t){t===void 0&&(t={});var r=Y(t),n=t.encode,o=n===void 0?function(c){return c}:n,a=t.validate,i=a===void 0?!0:a,s=e.map(function(c){if(typeof c=="object")return new RegExp("^(?:".concat(c.pattern,")$"),r)});return function(c){for(var u="",f=0;f<e.length;f++){var p=e[f];if(typeof p=="string"){u+=p;continue}var l=c?c[p.name]:void 0,h=p.modifier==="?"||p.modifier==="*",b=p.modifier==="*"||p.modifier==="+";if(Array.isArray(l)){if(!b)throw new TypeError('Expected "'.concat(p.name,'" to not repeat, but got an array'));if(l.length===0){if(h)continue;throw new TypeError('Expected "'.concat(p.name,'" to not be empty'))}for(var E=0;E<l.length;E++){var g=o(l[E],p);if(i&&!s[f].test(g))throw new TypeError('Expected all "'.concat(p.name,'" to match "').concat(p.pattern,'", but got "').concat(g,'"'));u+=p.prefix+g+p.suffix}continue}if(typeof l=="string"||typeof l=="number"){var g=o(String(l),p);if(i&&!s[f].test(g))throw new TypeError('Expected "'.concat(p.name,'" to match "').concat(p.pattern,'", but got "').concat(g,'"'));u+=p.prefix+g+p.suffix;continue}if(!h){var y=b?"an array":"a string";throw new TypeError('Expected "'.concat(p.name,'" to be ').concat(y))}}return u}}v.tokensToFunction=xe;function ut(e,t){var r=[],n=z(e,r,t);return Te(n,r,t)}v.match=ut;function Te(e,t,r){r===void 0&&(r={});var n=r.decode,o=n===void 0?function(a){return a}:n;return function(a){var i=e.exec(a);if(!i)return!1;for(var s=i[0],c=i.index,u=Object.create(null),f=function(l){if(i[l]===void 0)return"continue";var h=t[l-1];h.modifier==="*"||h.modifier==="+"?u[h.name]=i[l].split(h.prefix+h.suffix).map(function(b){return o(b,h)}):u[h.name]=o(i[l],h)},p=1;p<i.length;p++)f(p);return{path:s,index:c,params:u}}}v.regexpToFunction=Te;function _(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Y(e){return e&&e.sensitive?"":"i"}function ft(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=r.exec(e.source);o;)t.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=r.exec(e.source);return e}function pt(e,t,r){var n=e.map(function(o){return z(o,t,r).source});return new RegExp("(?:".concat(n.join("|"),")"),Y(r))}function lt(e,t,r){return Pe(W(e,r),t,r)}function Pe(e,t,r){r===void 0&&(r={});for(var n=r.strict,o=n===void 0?!1:n,a=r.start,i=a===void 0?!0:a,s=r.end,c=s===void 0?!0:s,u=r.encode,f=u===void 0?function(H){return H}:u,p=r.delimiter,l=p===void 0?"/#?":p,h=r.endsWith,b=h===void 0?"":h,E="[".concat(_(b),"]|$"),g="[".concat(_(l),"]"),y=i?"^":"",S=0,M=e;S<M.length;S++){var m=M[S];if(typeof m=="string")y+=_(f(m));else{var P=_(f(m.prefix)),w=_(f(m.suffix));if(m.pattern)if(t&&t.push(m),P||w)if(m.modifier==="+"||m.modifier==="*"){var A=m.modifier==="*"?"?":"";y+="(?:".concat(P,"((?:").concat(m.pattern,")(?:").concat(w).concat(P,"(?:").concat(m.pattern,"))*)").concat(w,")").concat(A)}else y+="(?:".concat(P,"(").concat(m.pattern,")").concat(w,")").concat(m.modifier);else m.modifier==="+"||m.modifier==="*"?y+="((?:".concat(m.pattern,")").concat(m.modifier,")"):y+="(".concat(m.pattern,")").concat(m.modifier);else y+="(?:".concat(P).concat(w,")").concat(m.modifier)}}if(c)o||(y+="".concat(g,"?")),y+=r.endsWith?"(?=".concat(E,")"):"$";else{var O=e[e.length-1],D=typeof O=="string"?g.indexOf(O[O.length-1])>-1:O===void 0;o||(y+="(?:".concat(g,"(?=").concat(E,"))?")),D||(y+="(?=".concat(g,"|").concat(E,")"))}return new RegExp(y,Y(r))}v.tokensToRegexp=Pe;function z(e,t,r){return e instanceof RegExp?ft(e,t):Array.isArray(e)?pt(e,t,r):lt(e,t,r)}v.pathToRegexp=z});var Ce=x((Mt,Oe)=>{var{parse:ht,format:mt}=require("url"),{pathToRegexp:Ae,compile:dt,parse:gt}=K();Oe.exports=R;function R(e,t,r,n={}){this.opts=n,this.name=this.opts.name||null,this.methods=[],this.paramNames=[],this.stack=Array.isArray(r)?r:[r];for(let o of t){let a=this.methods.push(o.toUpperCase());this.methods[a-1]==="GET"&&this.methods.unshift("HEAD")}for(let o=0;o<this.stack.length;o++){let i=typeof this.stack[o];if(i!=="function")throw new Error(`${t.toString()} \`${this.opts.name||e}\`: \`middleware\` must be a function, not \`${i}\``)}this.path=e,this.regexp=Ae(e,this.paramNames,this.opts)}R.prototype.match=function(e){return this.regexp.test(e)};R.prototype.params=function(e,t,r={}){for(let n=t.length,o=0;o<n;o++)if(this.paramNames[o]){let a=t[o];a&&a.length>0&&(r[this.paramNames[o].name]=a&&yt(a))}return r};R.prototype.captures=function(e){return this.opts.ignoreCaptures?[]:e.match(this.regexp).slice(1)};R.prototype.url=function(e,t){let r=e,n=this.path.replace(/\(\.\*\)/g,"");typeof e!="object"&&(r=Array.prototype.slice.call(arguments),typeof r[r.length-1]=="object"&&(t=r[r.length-1],r=r.slice(0,-1)));let o=dt(n,{encode:encodeURIComponent,...t}),a,i=gt(n),s={};if(Array.isArray(r))for(let c=i.length,u=0,f=0;u<c;u++)i[u].name&&(s[i[u].name]=r[f++]);else i.some(c=>c.name)?s=e:t||(t=e);return a=o(s),t&&t.query?(a=ht(a),typeof t.query=="string"?a.search=t.query:(a.search=void 0,a.query=t.query),mt(a)):a};R.prototype.param=function(e,t){let{stack:r}=this,n=this.paramNames,o=function(s,c){return t.call(this,s.params[e],s,c)};o.param=e;let a=n.map(function(s){return s.name}),i=a.indexOf(e);return i>-1&&r.some(function(s,c){if(!s.param||a.indexOf(s.param)>i)return r.splice(c,0,o),!0}),this};R.prototype.setPrefix=function(e){return this.path&&(this.path=this.path!=="/"||this.opts.strict===!0?`${e}${this.path}`:e,this.paramNames=[],this.regexp=Ae(this.path,this.paramNames,this.opts)),this};function yt(e){try{return decodeURIComponent(e)}catch{return e}}});var{debuglog:vt}=require("util"),bt=X(),Re=ve(),Ne=Ee(),{pathToRegexp:wt}=K(),V=Ce(),J=vt("koa-router");module.exports=d;function d(e={}){if(!(this instanceof d))return new d(e);this.opts=e,this.methods=this.opts.methods||["HEAD","OPTIONS","GET","PUT","PATCH","POST","DELETE"],this.exclusive=!!this.opts.exclusive,this.params={},this.stack=[],this.host=this.opts.host}for(let e of Ne){let t=function(r){d.prototype[r]=function(n,o,a){if(typeof o=="string"||o instanceof RegExp?a=Array.prototype.slice.call(arguments,2):(a=Array.prototype.slice.call(arguments,1),o=n,n=null),typeof o!="string"&&!(o instanceof RegExp)&&(!Array.isArray(o)||o.length===0))throw new Error(`You have to provide a path when adding a ${r} handler`);return this.register(o,[r],a,{name:n}),this}};qt=t,t(e)}var qt;d.prototype.del=d.prototype.delete;d.prototype.use=function(){let e=this,t=Array.prototype.slice.call(arguments),r;if(Array.isArray(t[0])&&typeof t[0][0]=="string"){let a=t[0];for(let i of a)e.use.apply(e,[i].concat(t.slice(1)));return this}let n=typeof t[0]=="string";n&&(r=t.shift());for(let a of t)if(a.router){let i=Object.assign(Object.create(d.prototype),a.router,{stack:[...a.router.stack]});for(let s=0;s<i.stack.length;s++){let c=i.stack[s],u=Object.assign(Object.create(V.prototype),c);r&&u.setPrefix(r),e.opts.prefix&&u.setPrefix(e.opts.prefix),e.stack.push(u),i.stack[s]=u}if(e.params){let s=function(c){let u=c;for(let f of u)i.param(f,e.params[f])};var o=s;s(Object.keys(e.params))}}else{let i=[];wt(e.opts.prefix||"",i);let s=e.opts.prefix&&i.length;e.register(r||"([^/]*)",[],a,{end:!1,ignoreCaptures:!n&&!s})}return this};d.prototype.prefix=function(e){e=e.replace(/\/$/,""),this.opts.prefix=e;for(let t=0;t<this.stack.length;t++)this.stack[t].setPrefix(e);return this};d.prototype.routes=d.prototype.middleware=function(){let e=this,t=function(n,o){if(J("%s %s",n.method,n.path),!e.matchHost(n.host))return o();let i=e.opts.routerPath||n.routerPath||n.path,s=e.match(i,n.method),c;if(n.matched?n.matched.push.apply(n.matched,s.path):n.matched=s.path,n.router=e,!s.route)return o();let u=s.pathAndMethod,f=u[u.length-1];return n._matchedRoute=f.path,f.name&&(n._matchedRouteName=f.name),c=(e.exclusive?[f]:u).reduce(function(p,l){return p.push(function(h,b){return h.captures=l.captures(i,h.captures),h.params=h.request.params=l.params(i,h.captures,h.params),h.routerPath=l.path,h.routerName=l.name,h._matchedRoute=l.path,l.name&&(h._matchedRouteName=l.name),b()}),p.concat(l.stack)},[]),bt(c)(n,o)};return t.router=this,t};d.prototype.allowedMethods=function(e={}){let t=this.methods;return function(n,o){return o().then(function(){let a={};if(!n.status||n.status===404){for(let s=0;s<n.matched.length;s++){let c=n.matched[s];for(let u=0;u<c.methods.length;u++){let f=c.methods[u];a[f]=f}}let i=Object.keys(a);if(~t.indexOf(n.method)){if(i.length>0){if(n.method==="OPTIONS")n.status=200,n.body="",n.set("Allow",i.join(", "));else if(!a[n.method]){if(e.throw)throw typeof e.methodNotAllowed=="function"?e.methodNotAllowed():new Re.MethodNotAllowed;n.status=405,n.set("Allow",i.join(", "))}}}else{if(e.throw)throw typeof e.notImplemented=="function"?e.notImplemented():new Re.NotImplemented;n.status=501,n.set("Allow",i.join(", "))}}})}};d.prototype.all=function(e,t,r){if(typeof t=="string"?r=Array.prototype.slice.call(arguments,2):(r=Array.prototype.slice.call(arguments,1),t=e,e=null),typeof t!="string"&&!(t instanceof RegExp)&&(!Array.isArray(t)||t.length===0))throw new Error("You have to provide a path when adding an all handler");return this.register(t,Ne,r,{name:e}),this};d.prototype.redirect=function(e,t,r){if((typeof e=="symbol"||e[0]!=="/")&&(e=this.url(e),e instanceof Error))throw e;if((typeof t=="symbol"||t[0]!=="/"&&!t.includes("://"))&&(t=this.url(t),t instanceof Error))throw t;return this.all(e,n=>{n.redirect(t),n.status=r||301})};d.prototype.register=function(e,t,r,n={}){let o=this,{stack:a}=this;if(Array.isArray(e)){for(let s of e)o.register.call(o,s,t,r,n);return this}let i=new V(e,t,r,{end:n.end===!1?n.end:!0,name:n.name,sensitive:n.sensitive||this.opts.sensitive||!1,strict:n.strict||this.opts.strict||!1,prefix:n.prefix||this.opts.prefix||"",ignoreCaptures:n.ignoreCaptures});this.opts.prefix&&i.setPrefix(this.opts.prefix);for(let s=0;s<Object.keys(this.params).length;s++){let c=Object.keys(this.params)[s];i.param(c,this.params[c])}return a.push(i),J("defined route %s %s",i.methods,i.path),i};d.prototype.route=function(e){let t=this.stack;for(let r=t.length,n=0;n<r;n++)if(t[n].name&&t[n].name===e)return t[n];return!1};d.prototype.url=function(e,t){let r=this.route(e);if(r){let n=Array.prototype.slice.call(arguments,1);return r.url.apply(r,n)}return new Error(`No route found for name: ${String(e)}`)};d.prototype.match=function(e,t){let r=this.stack,n,o={path:[],pathAndMethod:[],route:!1};for(let a=r.length,i=0;i<a;i++)n=r[i],J("test %s %s",n.path,n.regexp),n.match(e)&&(o.path.push(n),(n.methods.length===0||~n.methods.indexOf(t))&&(o.pathAndMethod.push(n),n.methods.length>0&&(o.route=!0)));return o};d.prototype.matchHost=function(e){let{host:t}=this;if(!t)return!0;if(!e)return!1;if(typeof t=="string")return e===t;if(typeof t=="object"&&t instanceof RegExp)return t.test(e)};d.prototype.param=function(e,t){this.params[e]=t;for(let r=0;r<this.stack.length;r++)this.stack[r].param(e,t);return this};d.url=function(e){let t=Array.prototype.slice.call(arguments,1);return V.prototype.url.apply({path:e},t)};
/*! Bundled license information:

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toidentifier/index.js:
  (*!
   * toidentifier
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

http-errors/index.js:
  (*!
   * http-errors
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

methods/index.js:
  (*!
   * methods
   * Copyright(c) 2013-2014 TJ Holowaychuk
   * Copyright(c) 2015-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
