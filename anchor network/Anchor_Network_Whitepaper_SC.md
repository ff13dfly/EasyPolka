# Web3.0自启动平台的构想

- 参考的波卡白皮书：[https://www.cnblogs.com/coderzjz/p/15284943.html](https://www.cnblogs.com/coderzjz/p/15284943.html)

- 智能合约说明，[https://zhuanlan.zhihu.com/p/142585903](https://zhuanlan.zhihu.com/p/142585903)

- 安全性问题的概述，[https://101blockchains.com/web3-risks/](https://101blockchains.com/web3-risks/)

## 摘要

- Web3.0发展到今天，对于普通用户而言，一个便捷的访问入口呼之欲出。Web3.0需要一个去中心化的启动入口，Anchor Network就是实现这个目的。通过一个小巧的启动器，既可实行随时随地不被监控的接入Web3.0。

- Anchor Network基于Substrate/Polkadot的平行链来实现，区块链网络部分高效稳定。如何使用Web3.0的技术来整合现有的Dapps就变成了一个需求，这比提供替代性的解决方案，更有利于现在的开发者。

## 前言

- 随着比特币将去中心的货币系统的概念带给大众，区块链技术已经蓬勃发展了一段时间。然而，对于终端用户而言，使用Web3.0产品的复杂程度太高，需要掌握复杂的概念，操作部署在不同站点的工具。

- Dapps变成了”中心化平台的智能和鱼“+”非去中心化的UI“。你会发现一个有趣的现象，就是Web3.0公司在表现形式上，只是更透明一些。就像在Web1.0时代，从事Web1.0事业的公司，不是用一个网站来介绍自己的业务，而是给了你厚厚的一本介绍材料。应对这种挑战，也未让终端用户更便利，就像Google之于Web1.0网站，需要一个方便的入口来访问越来越多的Web3.0应用。

- 去中心化的区块链网络，理论上赋予了用户在本地启动应用，来杜绝暴露访问行踪的能力。只要您能够正常访问Anchor Network的节点，通过一个简单的启动器，就可以实现从链上加载各种应用和数据。

- 哈希密码带来的问题。哈希是区块链网络的一个显著特征，无论是交易还是智能合约，都是通过哈希这种方式来访问的。但是对于一个人类终端用户而言，哈希几乎是无法记忆的，通过交易所的实践，我们也发现，简短的英文单词或者缩写，才是更符合人类记忆特点的。随着未来Web3.0的广泛应用，类似域名系统，可以标定Web3.0的链名系统，需求也会越来越明显。

- 状态爆炸问题。对于状态机的区块链网络，就像Anchor Network采用的Substrate，随着交易的日益增多，就会带来状态爆炸问题。即使仅仅在交易的条件下，状态爆炸已经是一个可以预见的问题了。而对于未来复杂的Web3.0应用来说，状态爆炸问题将限制程序开发的灵活性，Anchor Network也试图通过社会化管理来解决这个问题。

- 所有权，不仅仅是数字的所有权。NFT的火爆，已经向我们展示了非数字所有权的价值。更近一步，程序是一种更具价值的产品，它提供了实实在在的服务，需要大量的脑力投入，如何让程序有价值，也是Anchor Network的努力方向。

## 概要

### 词汇表

- 链锚，存储在Anchor区块链上的结构化数据，链锚具有所有权，先到先得
- 申明删除，链锚的所有者，可以申明删除指定的链上数据。虽然这些数据仍然物理的存在于链上，遵从`申明删除`的程序将不会显示这些数据
- 启动器，连接到Anchor Network，并可以加载链上指定的链锚。 这样，就可以把JS项目部署到区块链上。
- 加载器，启动cApp的链上应用程序。主要实现对API的限定，加载对cApp的监管内容。
- 锚链接，用于标定Anchor Network资源的文本表达方式，类似于URL，可以唯一标定资源并传递外部参数。

### Web3.0的障碍

#### 访问的障碍

随着Web3.0的发展，已经出现了很多种的公链，也有数量庞大的Dapps，但是却很难理清这些应用之间的关系。

- 中心化问题。虽然Dapps调用的智能合约或者链API是去中心化的，但终端用户需要通过Dapps开发方提供的网址或App对Dapps进行访问。于是，去中心化的产品就被中心化到了开发方这里，他们可以追踪用户的行为，设置可以截取用户的通讯。

- 分散性问题。Dapps的开发者分散在全世界，每个新的Dapp都需要通过传统的方式来进行传播。

- 安全性问题。**这里要谨慎，需要认真核实** Dapps部署在很多独立的服务器上，由开发者独立进行维护

#### 开发的障碍

- 开发难度高。由于区块链本身的复杂性，数量掌握一个区块链的SDK变成了一个艰巨的任务，虽然他们都有成熟的API可以调用，但是理解这些调用背后的逻辑需要花费巨大的时间成本。

- 代币经济的限制。高昂的交易费用，给非金融应用带来了很大的障碍。换一个交易费用低的网络是一个选择，但这意味着

- 高昂的发布成本。完整的发布一个Dapp是一个巨大的挑战，你需要从编码到运维，甚至到硬件，都需要具备专家级的人员，才能维持，这无疑阻挡了开发者，如何减少重复造轮子，是一个值得思考的问题。

- 分散的资源。

### 现有解决方案

- 采用了类似于Web1.0时代的“雅虎”模式，但是不同于Web1.0的简单应用。

### 波卡简介

- 经过验证的稳定区块链开发框架。基于Substrate，可以通过Pallet的形式，方便的开发扩展功能。目前，Anchor Network主要部分已经实现，就是Anchor Pallet。通过这个组件，数据可以便利的存储到链上。

- 值得期待的跨链技术。

## 安全问题

## 不同的参与者

![不同监管者和组件的关系]()

### 终端客户

终端用户主要面临以下的问题

- 精简易记。终端用户想要的是，通过简单易记的内容，就可以访问Web3.0，就像我们过去实现的那样，借助搜索框，可以愉快的访问Web1.0。那在Web3.0中，这个便利的方式会是怎样，Anchor Network给出了自己的答案，这就是链锚。

- 功能导向。终端用户对于Dapps是功能性需求，更希望直接获得可以使用的工具。而目前依靠搜索的方式，需要很多的跳转和检索，才能找到需要的功能，这样的体验不是很好。

- 易于传播。如何方便Web3.0的内容进行传播，也是一个很重要的问题，Anchor Network使用`锚连接`来解决这个问题。这也是偷师URL，通过一段简短的字符串，就可以定位区块链上的资源，从而踏入Web3.0的世界。

### 开发者

开发者面临的问题

- 简单接入。区块链已经变成了一个庞大复杂的系统，每个不同的网络都有复杂的概念和大量的API功能。而对于应用开发者而言，尤其是非财务类应用开发，需要一种更简单的写链方式，他们需要的是区块链强大的可信任数据功能。

- 开发门槛。目前区块链主流的开发语言是Go和Rust，虽然已经是主流的高级开发语言，但是相比于拥有广泛群众基础的JS，还是有难度的。这难度不仅仅是在开发语言本身，也在于成熟方便的调试环境。Anchor Network推荐使用Javascript解决这一问题，只需使用JS，就可以构建完整的区块链应用系统。

- 受限的API。

- 稳定的发布。成本巨大的发布过程，也让Web3.0的开发者却步。于是更便利的智能合约就成了首选，只需调试好就可以进行发布。

### 资源供应商

资源/内容供应商

- 非程序人员。面向程序员的工具，让非程序开发人员很难使用，对于发布链上内容就变得很困难。

- NFT进一步破局。

### 监督者（ DAO ）

- 通过加载器建立监管系统，当然这不是强制的，加载器的开发者可以自行选择是否需要支持。最终，终端用户会选择合适的加载器来管理他们自己的Web3.0世界。加载器也是通过加载监管对应的Anchor数据来对cApp进行评判。

- 对链上应用的安全性、合规性进行评估的线上DAO机构。我们没法在现在预测未来的各种应用场景，也就意味着必须存在一个与时俱进的组织，来对未来出现的应用进行评估，这也是Anchor Network非常重要的组成部分。

- API的监督。加载器的开发者，需要遵循API的监管，提供受到充分检测的API供cApp进行调用。

- 应用程序的监督。使用白名单的方式，由DAO机构进行评估

## 整体设计

简化成KV系统的链上域名系统，存储着线上链表。通过启动器，对协议进行解析，

![启动器、加载起、前端应用、后端应用和Anchor Network的关系]()

```TEXT
启动器 -->  加载器  -->  cApp/Data  -->  APIs  -->  Web3.0/Web2.0
              |             |           |               
              | on-chain    | on-chain  | on-chain      
              |             |           |               
              V             V           V
----------------------------Protocol---------------------------
              |             |           |               
              V             V           V
-----------------------------Anchor----------------------------
----------------------------Polkadot---------------------------
```

### 链上存储部分

- 说明Anchor Pallet的实现方式，给实例的的Github链接。

- 链锚，解决链上资源的可记忆性问题。区块链把哈希带给了大众，让大家认识到这个秘密学的产品，然而，对于人类而言，哈希几乎无法记住，就像我们在交易所看到，你能记住智能合约对应的缩写，例如波卡的DOT，但是要记住合约地址，几乎不可能了。于是Anchor Network就使用类似域名的名称服务来解决这一问题。例如，我们给加载器取名叫`Plinth`,你就可以通过这个简单易记的名称，在Anchor Network上访问并运行加载器。

- 所有权KV系统，可共存的复杂程序的基础。链锚名称下，可以存储大量的数据，就可以实现复杂的功能。

- 在线链表，防止state爆炸的一种方式。链上保存两种state，一是Anchor最后更新的情况，owner和block number，二是正在交易的Anchor的状态。这两者都是有限的数据，可以防止出现state爆炸的情况。Anchor Pallet实现过往数据的便利的方式，是通过读取链上数据的关联来实现的。

### 启动器

- 连接Anchor Network. 最小的方式连接到Anchor Network，启动器需要构建cApp的运行环境，以Javascript为例，就需要提供webview的环境来运行加载器和cApp。

- 启动加载器。启动器的主要作用是启动加载器，对于cApp的协议支持在加载器层面来实现。

- 非链上程序，需要尽量小巧。可以使用各种语言来实现。

### 加载器

- 链上的cApp管理器。不同于启动器，加载器是完全的链上产品，发布和管理遵循和cApp同样的协议。从链上启动后，就可以对其他的cApp进行统一管理，当然，还有基本的账号管理和服务器节点选择功能都是具备的。

- 限定API。加载器可以将受限的API传递给cApp，这样带来两方面的好处，一是可以增强一些安全性，二是提高了cApp的开发效率。可以在启动器上配置传递给cApp的API，从而获取更高的安全性。

- 基础安全性检测。对cApp进行基础的安全检测，建立沙箱环境，这样，就可以解决部分安全问题，防止命名污染。

- 前后端都可以支持。后端可以交给Node.js来处理。

### 链上应用 ( cApp )

- 不可修改的链上部署。cApp的一个主要的优势，就是可以进行透明公开的部署。不能进行修改，这提高了发布的要求，需要更充分的测试，或者将程序和配置进行很好的分离。也就是说，通过链上部署这种方式，应用程序会更健壮一些。

- 支持复杂逻辑的实现。可以发现，功能完善的API可以赋予开发者各种能力去连接现有的各种服务，无论是Web3.0或者Web2.0。同时Anchor Network也有简单易用的线上链表来存储数据。两者结合，就可以实现很多复杂的功能，支持非财务App的开发和发布。

- 灵活的授权方式。cApp需要能够支持灵活的授权方式，来建立良性的环境，让开发者更专注于功能实现。授权分为对账号授权和对Anchor授权，授权的时限可以是无限的，或者授权到指定的block number。

- 很低的开发门槛。无需再考虑复杂的代币经济学，专注于在Web3.0模式下解决各种问题。

- 可以交易的应用程序。这是基于Anchor Network带来的一大便利，你可以随时对Anchor进行交易，内生的支持cApp的变现，不仅仅是通过cApp自己建立的商业模式来赚钱。

### 链上监督

- 通过链锚的方式，对链上应用进行监督。该功能由`加载器`选择性支持，通过检索`监督DAO`指定的链锚，获取到cApp的监管信息，可以更有助于建立终端用户对cApp的信任。这与去中心化的主旨并不违背，就像现在发生的事情那样，谁都不想得到通过偷盗或者黑来的数字货币。在未来的Web3.0的世界，虽然可以匿名，但是也能建立去中性化的信任系统，无须让每个Web3.0的参与者成为各方面的专家。

- API限定。`监督DAO`还可以提供充分测试的API，这样，`加载器`就可以安心的使用这些API，让开发者来构建丰富多彩的Web3.0世界。

- `加载器`和`启动器`都可以支持。对于`加载器`和链上监督的整合比较好理解，而`启动器`也可以遵循同样的原则，依靠链上监督，对能使用的`加载器`进行筛选，方便终端用户选择。

## 协议细节（Easy Protocol）

### 锚链接

- 像`anchor://`这样的访问方式来调用链锚，类似于超链接。如此一来，Anchor Network上的各种数据、资源、程序都可以连接在一起，形成互通的Web3.0世界。通过这样的方式，也可以隔离每个cApp，让每个cApp都运行在自己独立的沙箱环境里，减少不安全因素。

- 可以接受外部传入的参数。外部参数可以对cApp的行为进行微调，更方便开发。

- 多网络的支持，尾部增加`@network`来进行不同链之间的信息传递，默认的即为Anchor Network。这为未来异构网络预留可能性，即使完全不同的区块链网络，也可以使用统一的方式进行访问。

### 锚互操作

- 呼叫方式。"链锚A"可以呼叫"链锚B"。"链锚A"为用户自定义的内容。
- 资源方式。"链锚B"可以关联其他的链锚，座位启动的基础。

### 授权

- 通过链锚对授权进行配置，这样数据就可以公开。
- 链锚可以对账号进行授权配置
- 使用区块链的块号进行授权时限限制。

### 申明隐藏

- 用区块号，申明删除链锚的历史。不可删除，不可篡改，是区块链网络具有的显著特征，者对于金融应用有很大的好处。然而，但我们尝试开发非金融应用的时候，删除/隐藏数据就成为一个亟待解决的问题。虽然无法篡改已经上链的数据，但是可以通过后继申明的方式，来显式的隐藏指定的数据，我们称为`申明隐藏`。这种方式可以限定对隐私数据的访问，但需要`加载器`对协议的支持。

- `申明隐藏`的内容也是通过链锚进行发布的，公开透明。这样，每个遵从协议的`加载器`都可以进行合适的处理。

## 实现路径

![完整路线图]()

### 第一阶段

- 完整Anchor Network的功能实现。以Javascript为主要语言，实现整个Anchor Network的各项功能。

- Anchor Network的链部分落地部署。Anchor Network的区块链组件已经开发通过，[https://github.com/ff13dfly/Anchor](https://github.com/ff13dfly/Anchor)

- 链上监督实现

![路线图,亮显第一阶段]()

### 第二阶段

- 多平台的启动器开发。

- 多语言的加载器的实现。

![路线图,亮显第二阶段]()

## 技术实现 （ 第一阶段 ）

### Easy Protocol

- 开发语言：Typescript
- 简单的Anchor协议，使用JSON作为协议格式，具有很强的可阅读性，即使脱离`加载器`，也可以对数据进行解读。
- 完整支持Anchor Network的各种推荐特性。`申明隐藏`，`锚链接`，`锚互操作`，`授权`等。

### 启动器/加载器

- 开发语言：Javascript，开发框架：React
- 使用React来实现的链上加载器

### 字符串化的链上应用程序 ( cApp )

- 开发语言：Javascript
- Javascript作为首选，有以下的优势
    1. 简单易懂
    2. 前后端都支持
    3. 程序可以更透明

- 支持其他类型的程序方式

### API限定 （ 加载器实现 ）

- 开发语言：Javascript
- 通过限定API的方式，来保障基础的安全性。提供全功能的测试样例。
