# Web3.0应用平台的构想

- 参考的波卡白皮书：[https://www.cnblogs.com/coderzjz/p/15284943.html](https://www.cnblogs.com/coderzjz/p/15284943.html)

- 智能合约说明，[https://zhuanlan.zhihu.com/p/142585903](https://zhuanlan.zhihu.com/p/142585903)

- 安全性问题的概述，[https://101blockchains.com/web3-risks/](https://101blockchains.com/web3-risks/)

## 摘要 ( Overview )

- **(why,现状)**比特币带来的区块链技术已经蓬勃发展了一段时间，然而，到了今天的2023年，普通人还只是听说过比特币或者Web3.0，对于Web3.0的应用，也主要是交易所。对于普通用户而言，存在两个问题，一是用不到，二是难以用。各种Web3.0应用也是在金融领域，无论是交易所，还是最近火爆的Defi和NFT。而非金融类应用，还没有一个走入普通用户的视野。但从技术角度来看，区块链的特性，的确是可以让非金融应用受益的，例如，无法篡改的特性，稳定的去中心化网络，健壮的账户体系等。

- **(what,anchor解决方案)**无论是从技术的外溢，还是从金融领域的日渐红海来看，Web3.0的破圈都在不远处。那怎么破，从哪里破，就变成了一个很值得探讨的问题。Anchor Network就是对这个问题思考的结果，用更简单的接入方式来促进Web3.0破圈。Anchor Network的思路，就是让接入Web3.0网络的门槛降低，主要是开发部分。这样，就能吸引更多的人参与到Web3.0里来，也许，就能找到一个很好的突破点。

- **(how,anchor细节)**Anchor Network基于波卡网络，采用Substrate框架，搭建了一层结构，采用存储就付币的简单逻辑，隔离了区块链自身的复杂性，这里包括智能合约。基于不能篡改的特性，Anchor Network也是一个很好的发布平台，通过加载器，可以运行链上程序，降低维护的难度。同时，去中心化多节点的特性也很好的支持了链上应用的可访达性。

- **(how,anchor重点)**Anchor Network提供数据操作对象Anchor，这是整个网络的基础，它是一种链上存储方式，用唯一易记的名称来代替哈希，支持定制化的协议，实现简单的链上开发工具库anchor.js。提供Web3.0的开发协议Easy Protocol，解决链上数据的关系和链上程序的调用方式，可以方便的定位链上资源，同时，通过`申明删除`的方式，来解决数据隐私的问题。

- **(how,anchor重点)**安全性问题是Web3.0的一个重要方面，因为内在的所有权属性，导致了账号安全变得异常重要。不同于Web2.0或者Web1.0，账号对于Web3.0来说，是一切的基础，而且没法通过去中心化的方式进行恢复。如何保障账户安全，也是Anchor Network的一个重要思考方向。

## 词汇表

- 链锚，存储在Anchor区块链上的结构化数据，链锚具有所有权，先到先得
- 锚链接，用于标定Anchor Network资源的文本表达方式，类似于URL，可以唯一标定资源并传递外部参数。
- 锚授权，链锚和链锚之间的信任授权，链锚和账户之间的信任授权。
- 申明删除，链锚的所有者，可以申明删除指定的链上数据。虽然这些数据仍然物理的存在于链上，遵从`申明删除`的程序将不会显示这些数据
- 启动器，连接到Anchor Network，并可以加载链上指定的链锚。 这样，就可以把JS项目部署到区块链上。

## 目前面临的问题

### 终端客户

终端用户主要面临以下的问题

- 精简易记。终端用户想要的是，通过简单易记的内容，就可以访问Web3.0，就像我们过去实现的那样，借助搜索框，可以愉快的访问Web1.0。那在Web3.0中，这个便利的方式会是怎样，Anchor Network给出了自己的答案，这就是链锚。

- 功能导向。终端用户对于Dapps是功能性需求，更希望直接获得可以使用的工具。而目前依靠搜索的方式，需要很多的跳转和检索，才能找到需要的功能，这样的体验不是很好。

- 易于传播。如何方便Web3.0的内容进行传播，也是一个很重要的问题，Anchor Network使用`锚连接`来解决这个问题。这也是偷师URL，通过一段简短的字符串，就可以定位区块链上的资源，从而踏入Web3.0的世界。

### 开发者

开发者面临的问题

- 简单接入。区块链已经变成了一个庞大复杂的系统，每个不同的网络都有复杂的概念和大量的API功能。而对于应用开发者而言，尤其是非财务类应用开发，需要一种更简单的写链方式，他们需要的是区块链强大的可信任数据功能。

- 开发门槛。目前区块链主流的开发语言是Go和Rust，虽然已经是主流的高级开发语言，但是相比于拥有广泛群众基础的JS，还是有难度的。这难度不仅仅是在开发语言本身，也在于成熟方便的调试环境。Anchor Network推荐使用Javascript解决这一问题，只需使用JS，就可以构建完整的区块链应用系统。

- 受限的API。

- 稳定的发布。成本巨大的发布过程，也让Web3.0的开发者却步。于是更便利的智能合约就成了首选，只需调试好就可以进行发布。

### 现有应用的上链

- Dapps变成了”中心化平台的智能合约“+”非去中心化的UI“。你会发现一个有趣的现象，就是Web3.0公司在表现形式上，只是更透明一些。就像在Web1.0时代，从事Web1.0事业的公司，不是用一个网站来介绍自己的业务，而是给了你厚厚的一本介绍材料。应对这种挑战，也未让终端用户更便利，就像Google之于Web1.0网站，需要一个方便的入口来访问越来越多的Web3.0应用。
    ![两种发布方式的比较]()

- 去中心化的区块链网络，理论上赋予了用户在本地启动应用，来杜绝暴露访问行踪的能力。只要您能够正常访问Anchor Network的节点，通过一个简单的启动器，就可以实现从链上加载各种应用和数据。

- 哈希密码带来的问题。哈希是区块链网络的一个显著特征，无论是交易还是智能合约，都是通过哈希这种方式来访问的。但是对于一个人类终端用户而言，哈希几乎是无法记忆的，通过交易所的实践，我们也发现，简短的英文单词或者缩写，才是更符合人类记忆特点的。随着未来Web3.0的广泛应用，类似域名系统，可以标定Web3.0的链名系统，需求也会越来越明显。

- 状态爆炸问题。对于状态机的区块链网络，就像Anchor Network采用的Substrate，随着交易的日益增多，就会带来状态爆炸问题。即使仅仅在交易的条件下，状态爆炸已经是一个可以预见的问题了。而对于未来复杂的Web3.0应用来说，状态爆炸问题将限制程序开发的灵活性，Anchor Network也试图通过社会化管理来解决这个问题。

- 以下3条内容需要整理

- 开发难度高。由于区块链本身的复杂性，数量掌握一个区块链的SDK变成了一个艰巨的任务，虽然他们都有成熟的API可以调用，但是理解这些调用背后的逻辑需要花费巨大的时间成本。

- 代币经济的限制。高昂的交易费用，给非金融应用带来了很大的障碍。换一个交易费用低的网络是一个选择，但这意味着

- 高昂的发布成本。完整的发布一个Dapp是一个巨大的挑战，你需要从编码到运维，甚至到硬件，都需要具备专家级的人员，才能维持，这无疑阻挡了开发者，如何减少重复造轮子，是一个值得思考的问题。

### 新应用的开发

- 所有权，不仅仅是数字的所有权。NFT的火爆，已经向我们展示了非数字所有权的价值。更近一步，程序是一种更具价值的产品，它提供了实实在在的服务，需要大量的脑力投入，如何让程序有价值，也是Anchor Network的努力方向。

- 开发难度高。由于区块链本身的复杂性，数量掌握一个区块链的SDK变成了一个艰巨的任务，虽然他们都有成熟的API可以调用，但是理解这些调用背后的逻辑需要花费巨大的时间成本。

- 代币经济的限制。高昂的交易费用，给非金融应用带来了很大的障碍。换一个交易费用低的网络是一个选择，但这意味着

- 高昂的发布成本。完整的发布一个Dapp是一个巨大的挑战，你需要从编码到运维，甚至到硬件，都需要具备专家级的人员，才能维持，这无疑阻挡了开发者，如何减少重复造轮子，是一个值得思考的问题。

- 稳定可靠的发布。

- 简单接入。区块链已经变成了一个庞大复杂的系统，每个不同的网络都有复杂的概念和大量的API功能。而对于应用开发者而言，尤其是非财务类应用开发，需要一种更简单的写链方式，他们需要的是区块链强大的可信任数据功能。

- 开发门槛。目前区块链主流的开发语言是Go和Rust，虽然已经是主流的高级开发语言，但是相比于拥有广泛群众基础的JS，还是有难度的。这难度不仅仅是在开发语言本身，也在于成熟方便的调试环境。Anchor Network推荐使用Javascript解决这一问题，只需使用JS，就可以构建完整的区块链应用系统。


## 解决的问题

- 简单的经济学
- 稳定的发布
- 价值网络
- 更广泛的去中心化


## 系统架构

- Anchor Network分为数据层、协议层两部分

    ```TEXT
    启动器 -->  加载器  -->  cApp/Data  -->  APIs  -->  Web3.0/Web2.0
                |             |           |               
                | on-chain    | on-chain  | on-chain      
                |             |           |               
                V             V           V
    ----------------------------Protocol---------------------------
                |             |           |               
                V             V           V
    -----------------------------Anchor----------------------------
    ----------------------------Polkadot---------------------------
    ```

- Anchor Network推荐使用Javascript作为统一的语言，来实现各项功能。

### 数据层

#### 数据存储

- 说明Anchor Pallet的实现方式，给实例的的Github链接。

- 链锚，解决链上资源的可记忆性问题。区块链把哈希带给了大众，让大家认识到这个秘密学的产品，然而，对于人类而言，哈希几乎无法记住，就像我们在交易所看到，你能记住智能合约对应的缩写，例如波卡的DOT，但是要记住合约地址，几乎不可能了。于是Anchor Network就使用类似域名的名称服务来解决这一问题。例如，我们给加载器取名叫`Plinth`,你就可以通过这个简单易记的名称，在Anchor Network上访问并运行加载器。

- 所有权KV系统，可共存的复杂程序的基础。链锚名称下，可以存储大量的数据，就可以实现复杂的功能。

- 在线链表，防止state爆炸的一种方式。链上保存两种state，一是Anchor最后更新的情况，owner和block number，二是正在交易的Anchor的状态。这两者都是有限的数据，可以防止出现state爆炸的情况。Anchor Pallet实现过往数据的便利的方式，是通过读取链上数据的关联来实现的。

#### 数据交易

- 可以对链锚进行标价销售，实现所有权的转让。该转让过程无需第三方介入。

### 协议层

#### 数据定位

- 像`anchor://`这样的访问方式来调用链锚，类似于超链接。如此一来，Anchor Network上的各种数据、资源、程序都可以连接在一起，形成互通的Web3.0世界。通过这样的方式，也可以隔离每个cApp，让每个cApp都运行在自己独立的沙箱环境里，减少不安全因素。

- 可以接受外部传入的参数。外部参数可以对cApp的行为进行微调，更方便开发。

- 多网络的支持，尾部增加`@network`来进行不同链之间的信息传递，默认的即为Anchor Network。这为未来异构网络预留可能性，即使完全不同的区块链网络，也可以使用统一的方式进行访问。

#### 数据关联

- 呼叫方式。"链锚A"可以呼叫"链锚B"。"链锚A"为用户自定义的内容。
- 资源方式。"链锚B"可以关联其他的链锚，座位启动的基础。

#### 授权

- 通过链锚对授权进行配置，这样数据就可以公开。
- 链锚可以对账号进行授权配置
- 使用区块链的块号进行授权时限限制。

#### 申明删除

- 用区块号，申明删除链锚的历史。不可删除，不可篡改，是区块链网络具有的显著特征，者对于金融应用有很大的好处。然而，但我们尝试开发非金融应用的时候，删除/隐藏数据就成为一个亟待解决的问题。虽然无法篡改已经上链的数据，但是可以通过后继申明的方式，来显式的隐藏指定的数据，我们称为`申明隐藏`。这种方式可以限定对隐私数据的访问，但需要`加载器`对协议的支持。

- `申明隐藏`的内容也是通过链锚进行发布的，公开透明。这样，每个遵从协议的`加载器`都可以进行合适的处理。

## 安全问题

### 加载器的安全

- 加载器的安全，是基础问题。就像你下载了一个带有恶意程序的系统，那后继出现问题就在所难免了。
- 链上保存。（统一的名称，或者公布在其他网络上的。即使无法访问Anchor Network，也可以获取到启动器）
- 本地化启动的能力。
- 尽量小巧易懂。加载器只实现Easy Protocol，找到启动的Anchor之后，就完全退出执行。

![加载器的推荐启动方式]()

### 链上数据的安全

- 链上数据的安全，依赖于区块链网络。即依赖于Substrate节点的安全性，这里，可以参考 [Substate的安全说明](http://github.com)

### 代码执行的安全

- 当加载器是安全的，链上存储的数据是安全的，最终的问题就变成，这在链上的程序本身，是否安全。
- 以下将对安全事项进行细分来进行讨论

#### 系统安全

- 是否可以向上突破，获取更高的权限
- 解决方法：限制在沙箱里，限制全局变量的使用和访问
- 沙箱环境的突破。

#### 账户安全

- 是否具备盗取账号信息的能力
- 是否具有访问敏感信息的能力

#### 资产安全

- 是否可以转移数字资产。链上代码被执行时，是放置在沙箱环境，

#### 协议安全

- Easy Protocol协议是不是存在泄漏信息的安全问题。
- 采用分离的代码和库的方式，可以进一步提高安全性。一般来说，越大型的程序，安全性越难保障。

#### 用户执行

- 最终用户执行的时候，是最后的决策
- 第三方检测
- 对链上应用的安全性、合规性进行评估的线上DAO机构。我们没法在现在预测未来的各种应用场景，也就意味着必须存在一个与时俱进的组织，来对未来出现的应用进行评估，这也是Anchor Network非常重要的组成部分。

- API的监督。加载器的开发者，需要遵循API的监管，提供受到充分检测的API供cApp进行调用。

- 应用程序的监督。使用白名单的方式，由DAO机构进行评估

### 安全性的比较 (Pallet方式，智能合约，Anchor方式)

- 全路径的解决安全问题，原则就是，新加部分保障安全，从属部分，不增加不安全因素
- 全链路的比较

## 发展路线图

### 链上部分

- 数据存储
- 数据交易

### 协议部分Easy Protocol

- 协议的实现
- 加载器的实现（前端和后端部分）

#### 加载器

- 链上的cApp管理器。不同于启动器，加载器是完全的链上产品，发布和管理遵循和cApp同样的协议。从链上启动后，就可以对其他的cApp进行统一管理，当然，还有基本的账号管理和服务器节点选择功能都是具备的。

- 限定API。加载器可以将受限的API传递给cApp，这样带来两方面的好处，一是可以增强一些安全性，二是提高了cApp的开发效率。可以在启动器上配置传递给cApp的API，从而获取更高的安全性。

- 基础安全性检测。对cApp进行基础的安全检测，建立沙箱环境，这样，就可以解决部分安全问题，防止命名污染。

- 前后端都可以支持。后端可以交给Node.js来处理。

#### 链上应用 ( cApp )

- 不可修改的链上部署。cApp的一个主要的优势，就是可以进行透明公开的部署。不能进行修改，这提高了发布的要求，需要更充分的测试，或者将程序和配置进行很好的分离。也就是说，通过链上部署这种方式，应用程序会更健壮一些。

- 支持复杂逻辑的实现。可以发现，功能完善的API可以赋予开发者各种能力去连接现有的各种服务，无论是Web3.0或者Web2.0。同时Anchor Network也有简单易用的线上链表来存储数据。两者结合，就可以实现很多复杂的功能，支持非财务App的开发和发布。

- 灵活的授权方式。cApp需要能够支持灵活的授权方式，来建立良性的环境，让开发者更专注于功能实现。授权分为对账号授权和对Anchor授权，授权的时限可以是无限的，或者授权到指定的block number。

- 很低的开发门槛。无需再考虑复杂的代币经济学，专注于在Web3.0模式下解决各种问题。

- 可以交易的应用程序。这是基于Anchor Network带来的一大便利，你可以随时对Anchor进行交易，内生的支持cApp的变现，不仅仅是通过cApp自己建立的商业模式来赚钱。


#### 链上监督

- 通过链锚的方式，对链上应用进行监督。该功能由`加载器`选择性支持，通过检索`监督DAO`指定的链锚，获取到cApp的监管信息，可以更有助于建立终端用户对cApp的信任。这与去中心化的主旨并不违背，就像现在发生的事情那样，谁都不想得到通过偷盗或者黑来的数字货币。在未来的Web3.0的世界，虽然可以匿名，但是也能建立去中性化的信任系统，无须让每个Web3.0的参与者成为各方面的专家。

- API限定。`监督DAO`还可以提供充分测试的API，这样，`加载器`就可以安心的使用这些API，让开发者来构建丰富多彩的Web3.0世界。

- `加载器`和`启动器`都可以支持。对于`加载器`和链上监督的整合比较好理解，而`启动器`也可以遵循同样的原则，依靠链上监督，对能使用的`加载器`进行筛选，方便终端用户选择。

### 工具链

- 资源管理器
- 开发框架

## 相关内容

### Polkadot/Substrate

### 资源链接

- [Substrate](https://substrate.io)
- [Polkadot](https://polkadot.network)
- [Anchor Network](https://metanchor.net)